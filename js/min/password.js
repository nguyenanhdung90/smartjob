jQuery(document).ready(function(e){JobEngine.Views.ChangePassword=Backbone.View.extend({el:e("#page_change_password"),events:{"submit form#change_password":"updatePassword"},initialize:function(){this.auth=new JobEngine.Models.Auth;this.$form=this.$("form#change_password");this.validator=this.$form.validate({rules:{user_old_pass:"required",user_pass:"required",user_pass_again:{required:true,equalTo:"#user_pass"}}})},updatePassword:function(t){t.preventDefault();var n={},r=this.auth;if(this.validator.form()){this.$form.find('input[type="password"]').each(function(){var t=e(this);r.set(t.attr("id"),t.val(),{silent:true})});this.auth.changePassword({success:function(e){pubsub.trigger("je:notification",{msg:e.msg,notice_type:e.success?"success":"error"})}})}}});new JobEngine.Views.ChangePassword})